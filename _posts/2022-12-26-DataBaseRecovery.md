---
title: "[오늘의 배움] 로깅을 이용한 데이터베이스의 회복(Recovery)"
excerpt: "로깅을 이용한 데이터베이스의 회복"

categories:
  - 오늘의배움
  - 데이터베이스
tags:
  - [오늘의배움, 데이터베이스]

toc: true
toc_sticky: true

date: 2022-12-26
last_modified_at: 2022-12-26
---

> 회복이란?

트랜젝션들을 수행하는 도중에 장애로 인해 손상된 데이터베이스를 정상적인 상태로 복구시키는 작업을 말한다.

> 로그 기반 회복

회복 방법들 중 로그를 이용한 회복 기법이 두 가지가 있다.

> > 지연 갱신 회복 기법

- 트랜젝션이 부분 완료 상태에 이르기까지 발생한 모든 변경 내용을 로그 파일에만 저장하고 데이터베이스에는 반영하지 않는 기법(commit 전까지 반영하지 않음)
- 중간에 장애가 발생하더라도 데이터베이스에는 commit전 까지는 반영되지 않았기 때문에 해당 로그 파일내용만 버리면 된다.

> > 즉시 갱신 회복 기법

- 트랜젝션 도중 데이터를 변경하면 변경 정보를 로그파일에 저장하고 모든 변경 내용을 즉시 데이터베이스에 반영하는 기법
- 변경된 데이터에 대해서는 `redo` 수행, 변경되지 않은 데이터들에 대해서는 `undo`를 수행해야 한다.

```
❗❗❗

💡 Undo: 트랜잭션 로그를 이용하여 오류와 관련된 모든 변경을 취소하여 복구 수행
💡 Redo: 트랜잭션 로그를 이용하여 오류가 발생한 트랜잭션을 재실행하여 복구 수행
```
